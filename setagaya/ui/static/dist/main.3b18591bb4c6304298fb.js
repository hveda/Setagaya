/*! For license information please see main.3b18591bb4c6304298fb.js.LICENSE.txt */
(()=>{function e(){var t,r,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.toStringTag||"@@toStringTag";function l(e,o,a,i){var l=o&&o.prototype instanceof c?o:c,d=Object.create(l.prototype);return n(d,"_invoke",function(e,n,o){var a,i,l,c=0,d=o||[],u=!1,b={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return a=e,i=0,l=t,b.n=n,s}};function p(e,n){for(i=e,l=n,r=0;!u&&c&&!o&&r<d.length;r++){var o,a=d[r],p=b.p,m=a[2];e>3?(o=m===n)&&(l=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=p&&((o=e<2&&p<a[1])?(i=0,b.v=n,b.n=a[1]):p<m&&(o=e<3||a[0]>n||n>m)&&(a[4]=e,a[5]=n,b.n=m,i=0))}if(o||e>1)return s;throw u=!0,n}return function(o,d,m){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&p(d,m),i=d,l=m;(r=i<2?t:l)||!u;){a||(i?i<3?(i>1&&(b.n=-1),p(i,l)):b.n=l:b.v=l);try{if(c=2,a){if(i||(o="next"),r=a[o]){if(!(r=r.call(a,l)))throw TypeError("iterator result is not an object");if(!r.done)return r;l=r.value,i<2&&(i=0)}else 1===i&&(r=a.return)&&r.call(a),i<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((r=(u=b.n<0)?l:e.call(n,b))!==s)break}catch(e){a=t,i=1,l=e}finally{c=1}}return{value:r,done:u}}}(e,a,i),!0),d}var s={};function c(){}function d(){}function u(){}r=Object.getPrototypeOf;var b=[][a]?r(r([][a]())):(n(r={},a,function(){return this}),r),p=u.prototype=c.prototype=Object.create(b);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,n(e,i,"GeneratorFunction")),e.prototype=Object.create(p),e}return d.prototype=u,n(p,"constructor",u),n(u,"constructor",d),d.displayName="GeneratorFunction",n(u,i,"GeneratorFunction"),n(p),n(p,i,"Generator"),n(p,a,function(){return this}),n(p,"toString",function(){return"[object Generator]"}),(e=function(){return{w:l,m}})()}function n(e,t,r,o){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}n=function(e,t,r,o){function i(t,r){n(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},n(e,t,r,o)}function t(e,n,t,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,o)}function r(e){return function(){var n=this,r=arguments;return new Promise(function(o,a){var i=e.apply(n,r);function l(e){t(i,o,a,l,s,"next",e)}function s(e){t(i,o,a,l,s,"throw",e)}l(void 0)})}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function i(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var n=function(e){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=o(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(n)?n:n+""}var s=function(){return e=function e(){var n=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentRoute="/",this.currentParams={},this.routes={"/":function(){return n.renderProjects()},"/projects":function(){return n.renderProjects()},"/collections/:id":function(e){return n.renderCollection(e.id)},"/plans/:id":function(e){return n.renderPlan(e.id)},"/admin":function(){return n.renderAdmin()},"/admin/collections":function(){return n.renderAdminCollections()}},window.addEventListener("hashchange",function(){return n.handleRoute()}),window.addEventListener("load",function(){return n.handleRoute()})},(n=[{key:"handleRoute",value:function(){var e=window.location.hash.slice(1)||"/";this.navigateTo(e)}},{key:"navigateTo",value:function(e){var n=this;this.currentRoute=e,this.currentParams={};for(var t,r=function(){var t=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,l=[],s=!0,c=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=a.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return a(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i[o],2),r=t[0],l=t[1],s=r.replace(/:([^/]+)/g,"([^/]+)"),c=new RegExp("^".concat(s,"$")),d=e.match(c);if(d){var u=(r.match(/:([^/]+)/g)||[]).map(function(e){return e.slice(1)}),b=d.slice(1);return u.forEach(function(e,t){n.currentParams[e]=b[t]}),l(n.currentParams),{v:void 0}}},o=0,i=Object.entries(this.routes);o<i.length;o++)if(t=r())return t.v;this.renderProjects()}},{key:"renderProjects",value:function(){document.querySelector(".shibuya").innerHTML='\n      <div x-data="projectsComponent()" x-init="init()" @project-deleted="onProjectDeleted" @collection-created="onCollectionCreated" @plan-created="onPlanCreated">\n        <div x-show="loading" class="text-center py-8">\n          <div class="text-gray-500">Loading projects...</div>\n        </div>\n        \n        <div x-show="!loading">\n          \x3c!-- Breadcrumb --\x3e\n          <nav aria-label="breadcrumb" class="mb-4">\n            <ol class="breadcrumb list-none p-0 inline-flex">\n              <li class="breadcrumb-item text-blue-600">Projects</li>\n            </ol>\n          </nav>\n\n          \x3c!-- Projects List --\x3e\n          <div class="project-list">\n            <template x-for="project in projects" :key="project.id">\n              <div x-data="projectComponent(project)" class="card mt-3 bg-white shadow rounded-lg">\n                <div class="card-body p-6">\n                  <h5 class="card-title text-xl font-semibold mb-2" x-text="project.name"></h5>\n                  <div class="card-subtitle mb-4 text-gray-500 text-sm">\n                    <span>Project ID: </span><span x-text="project.id"></span>\n                    <br>\n                    <span>Owner: </span><span x-text="project.owner"></span>\n                    <button x-show-if-permission="\'projects:delete\'" \n                            @click="deleteProject()" \n                            class="float-right btn btn-outline-danger text-red-600 hover:text-red-800 border border-red-300 px-3 py-1 rounded text-sm">\n                      Delete\n                    </button>\n                  </div>\n                  \n                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">\n                    \x3c!-- Collections --\x3e\n                    <div class="card bg-gray-50 rounded-lg">\n                      <div class="card-body p-4">\n                        <h5 class="card-title text-lg font-medium mb-3">Collections</h5>\n                        <ul class="list-none">\n                          <template x-for="c in project.collections" :key="c.id">\n                            <li class="inline-block mr-4 mb-2">\n                              <a :href="\'#/collections/\' + c.id" \n                                 class="text-blue-600 hover:text-blue-800" \n                                 x-text="c.name"></a>\n                            </li>\n                          </template>\n                        </ul>\n                        <button x-show-if-permission="\'collections:create\'" \n                                @click="showNewCollectionModal()" \n                                class="btn btn-outline-default border border-gray-300 px-3 py-2 rounded text-sm hover:bg-gray-50">\n                          New Collection\n                        </button>\n                        \n                        \x3c!-- New Collection Modal --\x3e\n                        <div x-show="creating_collection" \n                             x-transition:enter="ease-out duration-300"\n                             class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">\n                          <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">\n                            <h3 class="text-lg font-bold text-gray-900 mb-4">New Collection</h3>\n                            <form @submit.prevent="createCollection()">\n                              <div class="mb-4">\n                                <label class="block text-sm font-medium text-gray-700 mb-2">Collection Name</label>\n                                <input x-model="newCollectionForm.name" \n                                       type="text" \n                                       required\n                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">\n                              </div>\n                              <div class="flex justify-end space-x-2">\n                                <button type="button" \n                                        @click="creating_collection = false"\n                                        class="px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50">\n                                  Cancel\n                                </button>\n                                <button type="submit"\n                                        class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">\n                                  Create\n                                </button>\n                              </div>\n                            </form>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    \x3c!-- Plans --\x3e\n                    <div class="card bg-gray-50 rounded-lg">\n                      <div class="card-body p-4">\n                        <h5 class="card-title text-lg font-medium mb-3">Plans</h5>\n                        <ul class="list-none">\n                          <template x-for="p in project.plans" :key="p.id">\n                            <li class="inline-block mr-4 mb-2">\n                              <a :href="\'#/plans/\' + p.id" \n                                 class="text-blue-600 hover:text-blue-800" \n                                 x-text="p.name"></a>\n                            </li>\n                          </template>\n                        </ul>\n                        <button x-show-if-permission="\'plans:create\'" \n                                @click="showNewPlanModal()" \n                                class="btn btn-outline-default border border-gray-300 px-3 py-2 rounded text-sm hover:bg-gray-50">\n                          New Plan\n                        </button>\n                        \n                        \x3c!-- New Plan Modal --\x3e\n                        <div x-show="creating_plan" \n                             x-transition:enter="ease-out duration-300"\n                             class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">\n                          <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">\n                            <h3 class="text-lg font-bold text-gray-900 mb-4">New Plan</h3>\n                            <form @submit.prevent="createPlan()">\n                              <div class="mb-4">\n                                <label class="block text-sm font-medium text-gray-700 mb-2">Plan Name</label>\n                                <input x-model="newPlanForm.name" \n                                       type="text" \n                                       required\n                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">\n                              </div>\n                              <div class="flex justify-end space-x-2">\n                                <button type="button" \n                                        @click="creating_plan = false"\n                                        class="px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50">\n                                  Cancel\n                                </button>\n                                <button type="submit"\n                                        class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">\n                                  Create\n                                </button>\n                              </div>\n                            </form>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </template>\n            \n            \x3c!-- Create Project Button --\x3e\n            <button x-show-if-permission="\'projects:create\'" \n                    @click="showCreateModal()" \n                    class="btn btn-outline-primary mt-3 border border-blue-600 text-blue-600 px-4 py-2 rounded hover:bg-blue-50">\n              Create Project\n            </button>\n            \n            \x3c!-- Create Project Modal --\x3e\n            <div x-show="creating" \n                 x-transition:enter="ease-out duration-300"\n                 class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">\n              <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">\n                <h3 class="text-lg font-bold text-gray-900 mb-4">Create New Project</h3>\n                <form @submit.prevent="createProject()">\n                  <div class="mb-4">\n                    <label class="block text-sm font-medium text-gray-700 mb-2">Project Name</label>\n                    <input x-model="newProjectForm.name" \n                           type="text" \n                           required\n                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">\n                  </div>\n                  <div class="mb-4">\n                    <label class="block text-sm font-medium text-gray-700 mb-2">Project Owner</label>\n                    <input x-model="newProjectForm.owner" \n                           type="text" \n                           required\n                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">\n                  </div>\n                  <div class="flex justify-end space-x-2">\n                    <button type="button" \n                            @click="creating = false"\n                            class="px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50">\n                      Cancel\n                    </button>\n                    <button type="submit"\n                            class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">\n                      Create\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    '}},{key:"renderCollection",value:function(e){document.querySelector(".shibuya").innerHTML="\n      <div x-data=\"collectionComponent('".concat(e,'\')" x-init="init()">\n        <div x-show="loading" class="text-center py-8">\n          <div class="text-gray-500">Loading collection...</div>\n        </div>\n        \n        <div x-show="!loading">\n          \x3c!-- Breadcrumb --\x3e\n          <nav aria-label="breadcrumb" class="mb-4">\n            <ol class="breadcrumb list-none p-0 inline-flex">\n              <li class="breadcrumb-item"><a href="#/" class="text-blue-600 hover:text-blue-800">Projects</a></li>\n              <li class="breadcrumb-item mx-2">/</li>\n              <li class="breadcrumb-item">Collections</li>\n              <li class="breadcrumb-item mx-2">/</li>\n              <li class="breadcrumb-item" x-text="collection.name"></li>\n            </ol>\n          </nav>\n\n          \x3c!-- Collection Details --\x3e\n          <div class="card bg-white shadow rounded-lg">\n            <div class="card-header bg-gray-50 p-4 border-b">\n              <h3 class="text-xl font-semibold mb-2" x-text="collection.name"></h3>\n              <h6 class="text-sm text-gray-500 mb-4">Collection ID: <span x-text="collection.id"></span></h6>\n              \n              \x3c!-- Action Buttons --\x3e\n              <div class="space-x-2">\n                <button x-show-if-permission="\'collections:execute\'" \n                        @click="launch()" \n                        :disabled="!launchable"\n                        class="btn btn-outline-primary border border-blue-600 text-blue-600 px-3 py-2 rounded hover:bg-blue-50 disabled:opacity-50">\n                  Launch\n                </button>\n                <button x-show-if-permission="\'collections:execute\'" \n                        @click="trigger()" \n                        :disabled="!triggerable"\n                        class="btn btn-outline-primary border border-blue-600 text-blue-600 px-3 py-2 rounded hover:bg-blue-50 disabled:opacity-50">\n                  Trigger\n                </button>\n                <button x-show-if-permission="\'collections:execute\'" \n                        @click="stop()" \n                        :disabled="!stoppable"\n                        class="btn btn-outline-primary border border-blue-600 text-blue-600 px-3 py-2 rounded hover:bg-blue-50 disabled:opacity-50">\n                  Stop\n                </button>\n                <button x-show-if-permission="\'collections:execute\'" \n                        @click="purge()" \n                        class="btn btn-outline-primary border border-blue-600 text-blue-600 px-3 py-2 rounded hover:bg-blue-50">\n                  Purge\n                </button>\n                <button x-show-if-permission="\'collections:delete\'" \n                        @click="deleteCollection()" \n                        class="btn btn-outline-danger border border-red-600 text-red-600 px-3 py-2 rounded hover:bg-red-50 float-right">\n                  Delete\n                </button>\n              </div>\n              \n              \x3c!-- Status Badges --\x3e\n              <div class="mt-2">\n                <span x-show="trigger_in_progress" class="badge bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">Tests are being started</span>\n                <span x-show="stop_in_progress" class="badge bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">Tests are being stopped</span>\n                <span x-show="purge_tip" class="badge bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">Engines are being purged</span>\n              </div>\n            </div>\n            \n            \x3c!-- Collection body with plans table would go here --\x3e\n            <div class="card-body p-6">\n              <p class="text-gray-600">Collection details and execution plans will be displayed here.</p>\n              <p class="text-sm text-gray-500 mt-2">Full collection interface with file uploads, execution plans table, and monitoring will be implemented in the next iteration.</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    ')}},{key:"renderPlan",value:function(e){document.querySelector(".shibuya").innerHTML="\n      <div x-data=\"planComponent('".concat(e,'\')" x-init="init()">\n        <div x-show="loading" class="text-center py-8">\n          <div class="text-gray-500">Loading plan...</div>\n        </div>\n        \n        <div x-show="!loading">\n          \x3c!-- Breadcrumb --\x3e\n          <nav aria-label="breadcrumb" class="mb-4">\n            <ol class="breadcrumb list-none p-0 inline-flex">\n              <li class="breadcrumb-item"><a href="#/" class="text-blue-600 hover:text-blue-800">Projects</a></li>\n              <li class="breadcrumb-item mx-2">/</li>\n              <li class="breadcrumb-item">Plan</li>\n              <li class="breadcrumb-item mx-2">/</li>\n              <li class="breadcrumb-item" x-text="plan.name"></li>\n            </ol>\n          </nav>\n\n          \x3c!-- Plan Details --\x3e\n          <div class="card bg-white shadow rounded-lg">\n            <div class="card-body p-6">\n              <button x-show-if-permission="\'plans:delete\'" \n                      @click="deletePlan()" \n                      class="btn btn-outline-danger border border-red-600 text-red-600 px-3 py-2 rounded hover:bg-red-50 float-right">\n                Delete\n              </button>\n              \n              <h5 class="card-title text-xl font-semibold mb-2" x-text="plan.name"></h5>\n              <h6 class="card-subtitle mb-4 text-gray-500 text-sm">Plan ID: <span x-text="plan.id"></span></h6>\n              \n              \x3c!-- File Upload Section --\x3e\n              <div class="mb-4">\n                <label x-show-if-permission="\'plans:update\'" \n                       for="planFile" \n                       class="btn btn-outline-dark border border-gray-600 text-gray-600 px-3 py-2 rounded hover:bg-gray-50 cursor-pointer">\n                  üìÅ Upload File\n                </label>\n                <input x-show-if-permission="\'plans:update\'" \n                       type="file" \n                       id="planFile" \n                       @change="handleFileUpload($event)" \n                       accept=".csv, .jmx, .txt, .json" \n                       class="hidden">\n              </div>\n              \n              <div class="alert bg-blue-50 border border-blue-200 text-blue-800 p-3 rounded mb-4">\n                <p class="mb-0">You can upload only one .jmx file per plan</p>\n              </div>\n              \n              \x3c!-- Test File Display --\x3e\n              <template x-if="plan.test_file">\n                <div class="mb-4">\n                  <div class="btn-group inline-flex">\n                    <a :href="getFileDownloadUrl(plan.test_file)" \n                       target="_blank" \n                       class="btn btn-outline-success border border-green-600 text-green-600 px-3 py-2 rounded-l hover:bg-green-50" \n                       x-text="plan.test_file.filename"></a>\n                    <button x-show-if-permission="\'plans:update\'" \n                            @click="deletePlanFile(plan.test_file.filename)" \n                            class="btn btn-outline-success border border-green-600 text-green-600 px-2 py-2 rounded-r hover:bg-green-50">\n                      ‚úï\n                    </button>\n                  </div>\n                </div>\n              </template>\n              \n              \x3c!-- Data Files Display --\x3e\n              <template x-if="plan.data && plan.data.length > 0">\n                <div class="mb-4">\n                  <template x-for="data in plan.data" :key="data.filename">\n                    <div class="btn-group inline-flex mr-2 mb-2">\n                      <a :href="getFileDownloadUrl(data)" \n                         target="_blank" \n                         class="btn btn-outline-dark border border-gray-600 text-gray-600 px-3 py-2 rounded-l hover:bg-gray-50" \n                         x-text="data.filename"></a>\n                      <button x-show-if-permission="\'plans:update\'" \n                              @click="deletePlanFile(data.filename)" \n                              class="btn btn-outline-dark border border-gray-600 text-gray-600 px-2 py-2 rounded-r hover:bg-gray-50">\n                        ‚úï\n                      </button>\n                    </div>\n                  </template>\n                </div>\n              </template>\n            </div>\n          </div>\n        </div>\n      </div>\n    ')}},{key:"renderAdmin",value:function(){document.querySelector(".shibuya-admin").innerHTML='\n      <div class="card bg-white shadow rounded-lg">\n        <div class="card-body p-6">\n          <div class="card-title text-xl font-semibold mb-4">Admin pages</div>\n          <ol class="list-group space-y-2">\n            <li class="list-group-item">\n              <a href="#/admin/collections" class="text-blue-600 hover:text-blue-800">Collections</a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    '}},{key:"renderAdminCollections",value:function(){document.querySelector(".shibuya-admin").innerHTML='\n      <div>\n        <nav aria-label="breadcrumb" class="mb-4">\n          <ol class="breadcrumb list-none p-0 inline-flex">\n            <li class="breadcrumb-item"><a href="#/admin" class="text-blue-600 hover:text-blue-800">Admin</a></li>\n            <li class="breadcrumb-item mx-2">/</li>\n            <li class="breadcrumb-item">collections</li>\n          </ol>\n        </nav>\n        <div class="card bg-white shadow rounded-lg">\n          <div class="card-body p-6">\n            <div class="card-title text-xl font-semibold mb-4">Running Collections</div>\n            <p class="text-gray-600">Admin collections interface will be implemented here.</p>\n          </div>\n        </div>\n      </div>\n    '}}])&&i(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}();window.shibuyaApp=function(){return{user:null,initialized:!1,router:null,init:function(){var n=this;return r(e().m(function t(){var r;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,window.authManager.init();case 1:n.user=window.authManager.user,n.router=new s,n.initialized=!0,console.log("Setagaya app initialized with user:",n.user),e.n=3;break;case 2:e.p=2,r=e.v,console.error("Failed to initialize app:",r),n.initialized=!0;case 3:return e.a(2)}},t,null,[[0,2]])}))()},logout:function(){return r(e().m(function n(){return e().w(function(e){for(;;)switch(e.n){case 0:window.authManager&&window.authManager.logout();case 1:return e.a(2)}},n)}))()},can:function(e){return window.authManager&&window.authManager.hasPermission(e)},hasRole:function(e){return window.authManager&&window.authManager.hasRole(e)},isAdmin:function(){return window.authManager&&window.authManager.isAdmin()},canCreateProject:function(){return this.can("projects:create")},canManageProjects:function(){return this.can("projects:update")||this.can("projects:delete")},canCreateCollection:function(){return this.can("collections:create")},canManageCollections:function(){return this.can("collections:update")||this.can("collections:delete")},canCreatePlan:function(){return this.can("plans:create")},canManagePlans:function(){return this.can("plans:update")||this.can("plans:delete")},canManageUsers:function(){return this.can("users:manage")||this.isAdmin()},canManageRoles:function(){return this.can("roles:manage")||this.isAdmin()}}},document.addEventListener("DOMContentLoaded",function(){console.log("Setagaya Alpine.js app loading...")}),"undefined"==typeof SYNC_INTERVAL&&(window.SYNC_INTERVAL=5e3),"undefined"==typeof enable_sid&&(window.enable_sid=!1)})();
//# sourceMappingURL=main.3b18591bb4c6304298fb.js.map